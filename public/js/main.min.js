!function(){const e=io();let n=document.querySelector("ul"),t=document.querySelector("form"),s=document.querySelector(".nickname"),i=null,o=t.querySelector(".message");e.on("message",function(e){console.log("Incoming message:",e)}),e.on("newmsg",function(e){user&&(document.getElementById("message-container").innerHTML+="<div><b>"+e.user+"</b>: "+e.message+"</div>")}),s.addEventListener("change",function(){i=this.value},!1),t.addEventListener("submit",function(n){return n.preventDefault(),i=i&&i.length>0?i:"user",msg=`${i} says ${o.value}`,e.emit("chat message",msg),o.value="",!1},!1),e.addEventListener("chat message",function(e){let t=`<li>${e.message}</li>`;n.innerHTML+=t},!1),e.addEventListener("disconnect message",function(e){let t=`<li>${e}</li>`;n.innerHTML+=t},!1)}();