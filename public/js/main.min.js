!function(){const e=io();let t=document.querySelector("#messages"),n=document.querySelector("form"),s=document.querySelector(".nickname"),r=null,i=n.querySelector(".message"),u=document.querySelector(".userList");s.addEventListener("change",function(){r=this.value,console.log(r),e.emit("setUsername",this.value)},!1),n.addEventListener("submit",function(t){return t.preventDefault(),r=r&&r.length>0?r:"user",msg=`${r} says: ${i.value}`,e.emit("chat message",msg),i.value="",!1},!1),e.addEventListener("chat message",function(e){let n=`<li>${e.message}</li>`;t.innerHTML+=n},!1),e.addEventListener("disconnect message",function(e){let n=`<li>${e}</li>`;t.innerHTML+=n},!1),e.addEventListener("userSet",function(e){let t=`<li>${e.username}</li>`;u.innerHTML+=t},!1),e.addEventListener("userExists",function(e){document.querySelector("#error-message").classList.add("show-errors")},!1)}();